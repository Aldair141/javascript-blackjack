const blackjackGame=(()=>{"use strict";let e=document.querySelector("#btnNuevo"),t=document.querySelector("#btnPedir"),a=document.querySelector("#btnDetener"),n=document.querySelectorAll(".contenedor-cartas"),r=document.querySelectorAll(".puntaje-cartas"),o=[],l=[];const s=["C","D","H","S"],c=["A","J","Q","K"],d=()=>{if(0===l.length)throw"No hay cartas en la baraja.";return l.shift()},i=(e,t)=>(o[e]+=(e=>{const t=e.substring(0,e.length-1);let a=0;return a=isNaN(t)?"A"===t?1:"J"===t?11:"Q"===t?12:"K"===t?13:0:1*t})(t),r[e].innerText=o[e],o[e]),u=(e,t)=>{const a=document.createElement("img");a.classList.add("carta"),a.src=`./assets/img/cartas/${t}.png`,n[e].append(a)},h=e=>{t.disabled=!0,a.disabled=!0;let n=0;do{const e=d();n=i(o.length-1,e),u(o.length-1,e)}while(n<e&&e<=21);(()=>{const[e,t]=o;setTimeout(()=>{t===e?alert("Nadie gana :("):e>21?alert("La computadora gana."):t>21?alert("Ud ha ganado...!!!"):alert("La computadora gana.")},100)})()},f=(e=2)=>{o=[],n.forEach(e=>e.innerHTML=""),r.forEach(e=>e.innerText="0");for(let t=0;t<e;t++)o.push(t);t.disabled=!1,a.disabled=!1,(()=>{l=[];for(let e=2;e<=10;e++)for(let t of s)l.push(e+t);for(let e of c)for(let t of s)l.push(e+t);l=_.shuffle(l)})()};return e.addEventListener("click",()=>{f()}),t.addEventListener("click",()=>{const e=d(),t=i(0,e);u(0,e),t>21?(console.warn("Lo siento mucho, perdiste la partida."),h(t)):21===t&&(console.warn("Felicidades, llegaste a los 21 puntos."),h(t))}),a.addEventListener("click",()=>{t.disabled=!0,a.disabled=!0,h(o[0])}),{jugar:f}})();